---
import type { AstroInstance } from "astro";
import ArrowTopRightOnSquareIcon from "astro-heroicons/solid/ArrowTopRightOnSquare.astro";

export interface Props {
	href: string;
	title: string;
	description: string;
	iconName?: string; // HeroiconsのSolidアイコン名
}
const { href, title, description, iconName } = Astro.props;

let Icon = null;
for (const [fileName, file] of Object.entries(import.meta.glob("../../node_modules/astro-heroicons/solid/*.astro", { eager: true }))) {
	const name = fileName.split("/").pop()?.replace(".astro", "");
	if (name === iconName) {
		Icon = (file as AstroInstance).default;
		break;
	}
}
if (!Icon) {
	console.warn(`HeroiconsのSolidアイコン[${iconName}]は見つかりません。`);
}
---

<a href={href} target="_blank" rel="noopener noreferrer" class="group block p-6 bg-white dark:bg-slate-800 rounded-lg shadow-md border border-slate-200 dark:border-slate-700 transition-all duration-300 hover:shadow-lg hover:border-sky-500 dark:hover:border-sky-500 hover:scale-[1.02]">
	<div class="flex items-start gap-4">
		{
			Icon && (
				<div class="shrink-0 w-12 h-12 flex items-center justify-center rounded-lg bg-sky-100 dark:bg-sky-900 group-hover:bg-sky-200 dark:group-hover:bg-sky-800 transition-colors">
					<Icon class="w-6 h-6 text-sky-600 dark:text-sky-400" />
				</div>
			)
		}

		<div class="grow">
			<h3 class="text-lg font-bold text-slate-900 dark:text-white mb-1">
				{title}
				<ArrowTopRightOnSquareIcon class="w-4 h-4 inline-block ml-1 opacity-50 group-hover:opacity-100 transition-opacity" />
			</h3>
			<p class="text-sm text-slate-600 dark:text-slate-400">{description}</p>
		</div>
	</div>
</a>
